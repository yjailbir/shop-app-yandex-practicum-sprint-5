Простое веб-приложение витрины интернет магазина, реализованное с использованием Spring Framework и завёрнутое в Docker

Приложение состоит из двух модулей:
1) Сервис платежей
2) Основное приложение, состоящее из шести основных частей (модулей): страница витрины товаров, доступных для просмотра
и покупки; страница товара; страница корзины покупателя; страница всех заказов; страница заказа; сервис покупки.

В качестве кеша приложение использует Redis, подключение которого полностью настроено в конфигах приложения и
файле docker-compose

## Сборка и запуск

### 1. Клонирование репозитория

```bash 
git clone https://github.com/yjailbir/shop-app-yandex-practicum-sprint-5
```

### 2. Настройка свойств приложения

В файле src/main/resources/application.properties заполнить все поля:
- spring.r2dbc.url={url вашей базы данных (если это не h2, то нужно добавить в pom.xml зависимость на соответствующий драйвер)}
- spring.r2dbc.username={имя пользователя вашей базы данных (Если база h2, то значение может быть любым)}
- spring.r2dbc.password={пароль вашей базы данных (Если база h2, то значение может быть любым)}
- values.img_folder={полный путь к папке, где будут храниться изображения карточек товаров}

ВАЖНО: приложение работает на реактивном стеке. Будьте внимательны при подключении драйвера БД. Убедитесь, что выбранная
вами БД поддерживает реактивный подход.

Если приложение должно работать на не embedded БД, то в отдельно нужно настроить volumes для Docker, иначе при перезапуске
приложения все данные будут теряться.

### 3. Сборка JAR-файлов

Выполнить в каталоге payment-service команду

```bash
./mvnw package
```

В результате сборки будет создан файл:  
`target/openapi-spring-1.0.0.jar`

Далее выполнить в каталоге shop-application команду

```bash
./mvnw package -Dmaven.test.skip=true
```
В результате сборки будет создан файл:  
`target/main-shop-app-0.0.1-SNAPSHOT.jar`

#### Важно
При сборке основного модуля тесты отключены, потому что интеграционные тесты обращаются в первому сервису.
Если есть необходимость собирать с тестами, то openapi-spring-1.0.0.jar должен быть запущен.

### 3. Сборка образа и запуск контейнера

Выполнить в корне проекта команду

```bash
docker-compose up --build
```

После выполнения этих команд приложение будет доступно по адресу http://localhost:8080/shop

Для заполнения базы данных товарами в папке src/main/resources/for_database находятся тестовые данные.
Изображения следует поместить по пути values.img_folder и отправить POST запрос на эндпоинт http://localhost:8080/shop/add-products
с JSON из папки в качестве тела запроса. 